export const createPropertyMapper = (state) => () => Object.fromEntries(Object.entries(state).map(([key]) => {
    const descriptor = Object.getOwnPropertyDescriptor(state, key);
    if (descriptor === undefined)
        throw new Error('Unexpected missing descriptor');
    if (descriptor.set && descriptor.get)
        return [key, 'state'];
    if (descriptor.get)
        return [key, 'getter'];
    return [key, 'action'];
}));
export const createStoreContext = (parameters) => {
    const { state } = parameters;
    return {
        get $properties() {
            return createPropertyMapper(state)();
        }
    };
};
